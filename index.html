<!DOCTYPE html>
<html lang="hu">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sátor Számoló</title>
    <style>
        body { font-family: Arial, sans-serif; }
        label, select, button { margin-top: 10px; }
        .add-button { background-color: green; color: white; padding: 5px 10px; border: none; cursor: pointer; }
        .remove-button { background-color: red; color: white; padding: 5px 10px; border: none; cursor: pointer; }
        .remove-button:hover { background-color: darkred; }
        .add-button:hover { background-color: darkgreen; }
    </style>
</head>
<body>
    <h1>Sátor Számoló</h1>
    <label for="tentType">Sátor típusa:</label>
    <select id="tentType">
        <option value="standard">Standard</option>
        <option value="magaslabas">Magaslábas</option>
    </select>

    <label for="product">Válassz egy sátrat:</label>
    <select id="product">
        <option value="">-- Válassz --</option>
        <option value="4,4,2,4,2,2,4,1,4,2,1,3,1,50 négyzetméteres sátor">50 négyzetméteres sátor</option>
        <option value="6,6,4,4,2,2,6,2,4,2,2,4,1,100 négyzetméteres sátor">100 négyzetméteres sátor</option>
        <option value="8,8,6,4,2,2,8,3,4,2,3,5,1,150 négyzetméteres sátor">150 négyzetméteres sátor</option>
		<option value="10,10,8,4,2,2,10,4,4,2,4,6,1,200 négyzetméteres sátor">200 négyzetméteres sátor</option>
		<option value="12,12,10,4,2,2,12,5,4,4,5,7,1,250 négyzetméteres sátor">250 négyzetméteres sátor</option>
		<option value="14,14,12,4,2,2,14,6,4,4,6,8,1,300 négyzetméteres sátor">300 négyzetméteres sátor</option>
		<option value="16,16,14,4,2,2,16,7,4,4,7,9,1,350 négyzetméteres sátor">350 négyzetméteres sátor</option>
		<option value="18,18,16,4,2,2,18,8,4,4,8,10,1,400 négyzetméteres sátor">400 négyzetméteres sátor</option>
		<option value="20,20,18,4,2,2,20,9,4,4,9,11,1,450 négyzetméteres sátor">450 négyzetméteres sátor</option>
		<option value="22,22,20,4,2,2,22,10,6,6,10,12,1,500 négyzetméteres sátor">500 négyzetméteres sátor</option>
    </select>

    <label for="quantity">Mennyiség:</label>
    <input type="number" id="quantity" value="1" min="1">

    <button class="add-button" onclick="addTent()">Hozzáadás</button>

    <h2>Sátor lista</h2>
    <ul id="tentList"></ul>

    <button onclick="calculate()">Összesítés</button>

    <h2 id="result"></h2>

    <script>
        const tents = [];

        function addTent() {
            const tentType = document.getElementById('tentType').value;
            const selectedProduct = document.getElementById('product').value;
            const quantity = parseInt(document.getElementById('quantity').value);

            if (!selectedProduct) {
                alert("Kérlek válassz egy sátrat!");
                return;
            }

            const tentValues = selectedProduct.split(',');
            const tentSize = tentValues.pop();  // Remove and store the size information

            const tentData = {
                id: Date.now(),
                tentType,
                values: tentValues,
                size: tentSize,
                quantity
            };

            tents.push(tentData);
            updateTentList();
        }

        function updateTentList() {
            const tentList = document.getElementById('tentList');
            tentList.innerHTML = '';

            tents.forEach(tent => {
                const listItem = document.createElement('li');
                listItem.textContent = `${tent.size} (${tent.tentType === 'magaslabas' ? 'Magaslábas' : 'Standard'}) - ${tent.quantity} db`;

                const removeButton = document.createElement('button');
                removeButton.textContent = 'Eltávolítás';
                removeButton.classList.add('remove-button');
                removeButton.onclick = () => removeTent(tent.id);

                listItem.appendChild(removeButton);
                tentList.appendChild(listItem);
            });
        }

        function removeTent(id) {
            const index = tents.findIndex(tent => tent.id === id);
            if (index !== -1) tents.splice(index, 1);
            updateTentList();
        }

        function calculate() {
            let totalG = 0, totalStandardL = 0, totalMagasL = 0, totalC = 0, totalZ = 0;
            let totalX = 0, totalMagasX = 0, totalY = 0, totalV = 0, totalM = 0;
            let totalK = 0, totalN = 0, totalJ = 0, totalH = 0, totalMagasH = 0, totalD = 0;
            let totalCovelek = 0;

            tents.forEach(tent => {
                const [g, l, c, z, x, y, v, m, k, n, j, h, d] = tent.values.map(Number);
                const quantity = tent.quantity;

                totalG += g * quantity;
                totalC += c * quantity;
                totalZ += z * quantity;
                totalY += y * quantity;
                totalV += v * quantity;
                totalM += m * quantity;
                totalK += k * quantity;
                totalN += n * quantity;
                totalJ += j * quantity;
                totalD += d * quantity;

                if (tent.tentType === 'magaslabas') {
                    totalMagasL += l * quantity;
                    totalMagasX += x * quantity;
                    totalMagasH += h * quantity;
                } else {
                    totalStandardL += l * quantity;
                    totalX += x * quantity;
                    totalH += h * quantity;
                }
            });

            // Cövekek kiszámítása minden lábtípushoz
            totalCovelek = totalStandardL + totalMagasL + totalX + totalMagasX;

            document.getElementById('result').innerText = `
                Szükséges elemek:
                Gerinc: ${totalG} db
                ${totalStandardL > 0 ? `Sima láb: ${totalStandardL} db` : ''}
                ${totalMagasL > 0 ? `Magasláb: ${totalMagasL} db` : ''}
                Párkány: ${totalC} db
                Végponyvatartó: ${totalZ} db
                ${totalX > 0 ? `Sima Középsőláb: ${totalX} db` : ''}
                ${totalMagasX > 0 ? `Magas Középsőláb: ${totalMagasX} db` : ''}
                Középsőtalp: ${totalY} db
                Simatalp: ${totalV} db
                Fogás piszka: ${totalM} db
                Andrásvas: ${totalK} db
                Fogás Drótkötél: ${totalN} db
                Tetőponyva: ${totalJ} db
                ${totalH > 0 ? `Fogás Sima Oldalponyva: ${totalH} db` : ''}
                ${totalMagasH > 0 ? `Fogás Magas oldalponyva: ${totalMagasH} db` : ''}
                Fogás Háromszögponyva: ${totalD} db
                Cövek: ${totalCovelek} db
            `;
        }
    </script>
</body>
</html>
